<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <meta charset="UTF-8">
    <title>Graph Generator</title>

    <link href="css/style.css" rel = "stylesheet">

    <!--    Main script-->

    <script src="js/Vertex.js"> </script>
    <script src="js/Edge.js"> </script>
    <script src="js/Graph.js"> </script>
    <script src="js/main.js"> </script>
    <script src="js/handlers.js"></script>

    <h1>Graph Generator</h1>

    <div class="row">
        <!--        Canvas - 1st column-->
        <div class="col-sm-5" id="canvasDiv">
                <canvas id="canvas" width="700" height="600">
                    <!-- This message is shown on the page if the browser doesn't support the canvas element. -->
                    Canvas not supported.
                </canvas>
        </div>

        <!--        Vertex stuff - 2nd column-->
        <div class="col-sm-3" id="vertexDiv">

            <p>
            <h3>Add vertex:</h3>

            <input type="checkbox" id="coloredCB" name="color" value="color" onchange="doColored()">
            <label for="coloredCB">Colored</label>
            <br>

            <label for="vertexValue">Vertex Value:</label>
            <input type="text" id="vertexValue" name="vertexValue">
            <br>

            <label for="vertexColor">Vertex Color:</label>
            <input type="text" id="vertexColor" name="vertexColor" disabled>
            <br>

            <button id="addVertexButton" onclick="doAddVertex()">Add vertex</button>
            </p>

            <p>
            <h3>Delete vertex:</h3>

            <label for="deleteVertexDD">Vertex:</label>
            <select id="deleteVertexDD">
                <option>Choose vertex</option>
            </select>
            <br>

            <button id="deleteVertexButton" onclick="doDeleteVertex()">Delete vertex</button>
            </p>

            <br>
            <br>
            <br>

<!--            <p>-->
<!--                <label for="adjMatrix">Current Adjacency Matrix:</label>-->
<!--                <br>-->
<!--                <input style="height:25vh", width="40vh", type="text" id="adjMatrix" name="adjMatrix">-->
<!--                <br>-->
<!--            </p>-->

            <br>
        </div>

        <!--        Edge stuff - 3rd column-->
        <div class="col-sm-3" id="edgeDiv">

            <p>
            <h3>Add edge:</h3>

            <input type="checkbox" id="weightedCB" name="weighted" value="weighted" onchange="doWeighted()">
            <label for="weightedCB">Weighted</label>
            <br>

            <input type="checkbox" id="directedCB" name="directed" value="directed" onchange="doDirected()">
            <label for="directedCB">Directed</label>
            <br>

            <label for="vertex1DD">Vertex 1:</label>
            <select id="vertex1DD">
                <option>Choose first vertex</option>
            </select>
            <br>

            <label for="vertex2DD">Vertex 2:</label>
            <select id="vertex2DD">
                <option>Choose second vertex</option>
            </select>
            <br>

            <label for="edgeWeight">Edge weight:</label>
            <input type="text" id="edgeWeight" name="edgeWeight" disabled>
            <br>

            <button id="addEdgeButton" onclick="doAddEdge()">Add edge</button>
            </p>

            <p>
            <h3>Delete edge:</h3>

            <label for="deleteEdgeDD">Edge:</label>
            <select id="deleteEdgeDD">
                <option>Choose edge</option>
            </select>
            <br>

            <button id="deleteEdgeButton" onclick="doDeleteEdge()">Delete edge</button>


            </p>

            <p style="margin-right: 15vw">
                <!--            Clear Button-->
                <br><br>
                <button style="height:5vh" , id="clearButton" onclick="doClear()">Clear</button>

                <!--            Submit Button-->
                <br><br>
                <button style="height:5vh", id="submitButton", onclick="doSubmit()">Submit</button>
            </p>


        </div>
    </div>

    <script>

        let canvas;   // The canvas that is used as the drawing surface
        let graphics; // The 2D graphics context for drawing on the canvas.

        const X_LEFT = 0;    // The xy limits for the coordinate system.
        const X_RIGHT = 700;
        const Y_BOTTOM = 600;
        const Y_TOP = 0;

        const vertexRadius = 20;

        const BACKGROUND = "white";  // The display is filled with this color before the scene is drawn.

        let pixelSize;  // The size of one pixel, in the transformed coordinates.


        function init() {
            try {
                canvas = document.getElementById("canvas");
                graphics = canvas.getContext("2d");

                applyLimits(graphics, X_LEFT, X_RIGHT, Y_TOP, Y_BOTTOM, false);
                graphics.lineWidth = pixelSize;  // Use 1 pixel as the default line width
                addGraphicsContextExtras(graphics);
                installMouseHandler();
                document.getElementById("addVertexButton").onclick = doAddVertex;
                document.getElementById("deleteVertexButton").onclick = doDeleteVertex;
                document.getElementById("addEdgeButton").onclick = doAddEdge;
                document.getElementById("deleteEdgeButton").onclick = doDeleteEdge;
                document.getElementById("clearButton").onclick = doClear;
                document.getElementById("submitButton").onclick = doSubmit;
                document.getElementById("weightedCB").onchange = doWeighted;
                document.getElementById("coloredCB").onchange = doColored;
                document.getElementById("directedCB").onchange = doDirected;
                window.addEventListener('keydown', handleKeyDown, false);

            } catch (e) {
                document.getElementById("canvasholder").innerHTML =
                    "Canvas graphics is not supported.<br>" +
                    "An error occurred while initializing graphics.";
            }
        }
    </script>
</head>

<body onload="init()" style="background-color:#EEEEEE">

    <noscript>
        <!-- This message will be shown in the page if JavaScript is not available. -->
        <p>JavaScript is required to use this page.</p>
    </noscript>

</body>
</html>
